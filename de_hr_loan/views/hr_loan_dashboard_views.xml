<odoo>

    <record id="action_all_loan_requests" model="ir.actions.act_window">
        <field name="name">Loans to review</field>
        <field name="res_model">hr.loan</field>
        <field name="view_mode">tree,form,kanban</field>
        <field name="domain">[('state', 'in', ['confirm']), ('loan_type_id', '=', active_id)]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No new approvals to review 
            </p>
        </field>

    </record>

    
    <record id="loan_type_kanban_view" model="ir.ui.view">
        <field name="name">loan.type.kanban.view</field>
        <field name="model">hr.loan.type</field>
        <field name="arch" type="xml">
            <kanban class="oe_background_grey o_kanban_dashboard o_emphasize_colors o_stock_kanban" create="0" group_create="false">
                <field name="color"/>
                <field name="sequence_code" readonly="1"/>
                <field name="count_loan_pending"/>
                <templates>
                    <t t-name="kanban-box">
                        <div t-attf-class="#{!selection_mode ? kanban_color(record.color.raw_value) : ''}" name="stock_picking">
                            <div t-attf-class="o_kanban_card_header">
                                <div class="o_kanban_card_header_title">
                                    <div class="row">
                                        <div class="col-3 o_kanban_primary_left">
                                            <field name="image" display="full" options="{&quot;size&quot;:[0,90]}" widget="image"/>
                                        </div>
                                        <div class="col-9 o_kanban_primary_right">
                                            <h3>
                                                <a type="object" name="get_action_all_loan_type">
                                                    <field name="name"/>
                                                </a>
                                            </h3>
                                            <p class="oe_module_name">
                                                <field name="description"/>
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <div class="o_primary" t-if="selection_mode">
                                        
                                    </div>
                                    <div class="o_secondary"></div>
                                </div>
                                <div class="o_kanban_manage_button_section" t-if="!selection_mode">
                                    <a class="o_kanban_manage_toggle_button" href="#"><i class="fa fa-ellipsis-v" role="img" aria-label="Manage" title="Manage"/></a>
                                </div>
                            </div>
                            <div class="container o_kanban_card_content" t-if="!selection_mode">
                                <div class="row">
                                    <div class="col-6 o_kanban_primary_left">
                                        <button class="btn btn-primary" name="get_action_loan_tree_pending" type="object">
                                            <span ><t t-esc="record.count_loan_pending.value"/> In Schedule</span>
                                        </button>
                                    </div>
                                    <div class="col-6 o_kanban_primary_right">
                                        <div t-if="record.count_loan_confirm.raw_value > 0" class="row">
                                            <div class="col-12">
                                                <a name="get_action_loan_tree_confirm" type="object">
                                                    <field name="count_loan_confirm"/>
                                                    To Approve
                                                </a>
                                            </div>
                                        </div>
                                        <div t-if="record.count_loan_to_pay.raw_value > 0" class="row">
                                            <div class="col-12">
                                                <a name="get_action_loan_tree_to_pay" type="object">
                                                    <field name="count_loan_to_pay"/>
                                                    Loans to Pay
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="container o_kanban_card_manage_pane dropdown-menu" role="menu">
                                <div class="row">
                                    <div class="col-6 o_kanban_card_manage_section o_kanban_manage_view">
                                        <div role="menuitem" class="o_kanban_card_manage_title">
                                            <span>View</span>
                                        </div>
                                        <div role="menuitem">
                                            <a name="get_action_all_loan_type" type="object">All</a>
                                        </div>
                                        <div role="menuitem">
                                            <a name="get_action_all_loan_type_paid" type="object">Paid</a>
                                        </div>
                                        <div role="menuitem">
                                            <a name="get_action_all_loan_type_refused" type="object">Refused</a>
                                        </div>
                                        <div role="menuitem">
                                            <a name="get_action_all_loan_type_closed" type="object">Closed</a>
                                        </div>
                                    </div>
                                    <div class="col-6 o_kanban_card_manage_section o_kanban_manage_new">
                                        <div role="menuitem" class="o_kanban_card_manage_title">
                                            <span>New</span>
                                        </div>
                                        <div role="menuitem">
                                            <a name="create_request" type="object">Loan Request</a>
                                        </div>
                                    </div>
                                </div>

                                <div t-if="widget.editable" class="o_kanban_card_manage_settings row">
                                    <div class="col-8" role="menuitem" aria-haspopup="true">
                                        <ul class="oe_kanban_colorpicker" data-field="color" role="menu"/>
                                    </div>
                                    <div role="menuitem" class="col-4">
                                        <a name="action_open_loan_type" type="object">Configuration</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    
    <record id="action_loan_dashboard" model="ir.actions.act_window">
        <field name="name">Loan Overview</field>
        <field name="res_model">hr.loan.type</field>
        <field name="view_mode">kanban</field>
    </record>
    
    <menuitem
        id="hr_loan_type_overview"
        parent="menu_hr_loan_root"
        name="Overview"
        action="action_loan_dashboard"
        sequence="1"/>
</odoo>