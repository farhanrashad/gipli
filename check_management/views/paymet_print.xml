<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <template id="payment_receipt_template">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                   <t t-call="web.external_layout">
                            <div class="page" dir="rtl"
                                 style="font-family: 'Times New Roman', Times, serif; font-size: 20px;">
                                <br/>
                                <br/>
                                <style type="text/css">
                                    .font{font-family: 'Times New Roman', serif;
                                    font-size:14px !important;
                                    }
                                </style>

                                <t t-foreach="docs" t-as="doc">
                                    <div class="text-center">
                                        <strong t-esc="o.company_id.name"/>

                                    </div>
                                    <div class="text-center">
                                        <strong>إيصال استلام نقدية /شيك
                                            <span class="m-0" t-field="doc.name"/>
                                        </strong><br/>
                                        <span t-esc="request.env['account.move'].sudo().search([('check_payment_id', '=', doc.id)],limit=1).name"/>

                                    </div>
                                    <br/>
                                    <br/>
                                    <div>
                                        <t t-set="payment_amount"  t-value="doc.get_convert_amount2()"/>
                                        <div class="row col-8">
                                            <div class="text-right col-4">
                                                <strong>التاريخ
                                                    <span t-field="doc.payment_date"/>
                                                </strong>
                                            </div>

                                            <div class="text-left col-3">
                                                <div >قرش</div>
                                                <div >
                                                    <span
                                                          t-esc="'{:,}'.format(round((payment_amount-int(payment_amount)),2))"/>
                                                </div>

                                            </div>
                                             <div class="text-left col-3">
                                                <div >جنية</div>
                                                <div>
                                                    <span
                                                            t-esc="'{:,}'.format(round(int(payment_amount),2))"/>
                                                </div>

                                            </div>
                                        </div>
                                        <br/>
                                        <div>
                                            <div class="text-right">
                                                <strong>وصلنا من السيد
                                                    <span class="m-0" t-field="doc.partner_id"/>
                                                </strong>
                                            </div>
                                            <br/>
                                        </div>
                                        <div>
                                            <div class="text-right">
                                                <strong>مبلغ وقدره
                                                    <span class="m-0" t-esc="doc.amount_to_text()"/>
                                                </strong>
                                            </div>
                                            <br/>
                                        </div>
                                        <br/>
                                        <div class="row col-12">
                                            <div class="text-right col-4">
                                                <strong t-if="doc.pay_check_ids">شيك رقم
                                                    <span class="m-0" t-esc="doc.pay_check_ids[0].check_number"/>
                                                </strong>
                                            </div>
                                            <div class="text-right col-4">
                                                <strong t-if="doc.pay_check_ids">بتاريخ
                                                     <span class="m-0" t-esc="doc.pay_check_ids[0].check_date"/>
                                                </strong>
                                            </div>
                                            <div class="text-right col-4">
                                                <strong t-if="doc.pay_check_ids">بنك :
                                                     <span class="m-0" t-esc="doc.pay_check_ids[0].bank.name"/>
                                                </strong>
                                            </div>

                                        </div>
                                        <br/>
                                           <div>
                                            <div class="text-right">
                                                <strong t-if="doc.receipt_number">وذلك قيمة
                                                    <span class="m-0" t-esc="doc.receipt_number"/>
                                                </strong>
                                            </div>
                                            <br/>
                                        </div>
                                    </div>
                                    <br/>
                                    <br/>
                                </t>
                                <br/>
                                <div class="row">
                                    <div class="text-center col-4">
                                        <strong style="text-algin:center">
                                            <span style="margin-right:10px">المستلم</span>
                                            <br/>
                                            <span>........................</span>
                                        </strong>
                                    </div>
                                       <div class="text-center col-4">
                                        <strong style="text-algin:center">
                                            <span style="margin-right:10px">أمين الخزينة</span>
                                            <br/>
                                            <span>........................</span>
                                        </strong>
                                    </div>
                                    <div class="text-center col-4">
                                        <strong style="text-algin:center">
                                            <span style="margin-left:20px">اعتماد</span>
                                            <br/>
                                            <span>........................</span>
                                        </strong>
                                    </div>
                                </div>

                            </div>
                        </t>

                </t>
            </t>
        </template>
        <template id="payment_receipt_template_1">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.external_layout">
                            <div class="page" dir="rtl"
                                 style="font-family: 'Times New Roman', Times, serif; font-size: 20px;">
                                <br/>
                                <br/>
                                <style type="text/css">
                                    .font{font-family: 'Times New Roman', serif;
                                    font-size:14px !important;
                                    }
                                </style>

                                <t t-foreach="docs" t-as="doc">
                                        <div class="text-center">
                                        <strong t-esc="o.company_id.name"/>

                                    </div>
                                    <div class="text-center">
                                        <strong>إيصال صرف نقدية /شيك
                                            <span class="m-0" t-field="doc.name"/>
                                        </strong><br/>
                                        <span t-esc="request.env['account.move'].sudo().search([('check_payment_id', '=', doc.id)],limit=1).name"/>


                                    </div>
                                    <br/>
                                    <br/>
                                    <div>
                                         <t t-set="payment_amount"  t-value="doc.get_convert_amount2()"/>
                                                  <div class="row col-8">
                                            <div class="text-right col-4">
                                                <strong>التاريخ
                                                    <span t-field="doc.payment_date"/>
                                                </strong>
                                            </div>

                                            <div class="text-left col-3">
                                                <div >قرش</div>
                                                <div >
                                                    <span
                                                          t-esc="'{:,}'.format(round((payment_amount-int(payment_amount)),2))"/>
                                                </div>

                                            </div>
                                             <div class="text-left col-3">
                                                <div >جنية</div>
                                                <div>
                                                    <span
                                                            t-esc="'{:,}'.format(round(int(payment_amount),2))"/>
                                                </div>

                                            </div>
                                        </div>
                                        <br/>
                                        <div>
                                            <div class="text-right">
                                                <strong>استلمت أنا السيد
                                                    <span class="m-0" t-field="doc.partner_id"/>
                                                </strong>
                                            </div>
                                            <br/>
                                        </div>
                                        <div>
                                            <div class="text-right">
                                                <strong>مبلغ وقدره
                                                    <span class="m-0" t-esc="doc.amount_to_text()"/>
                                                </strong>
                                            </div>
                                            <br/>
                                        </div>
                                        <br/>
                                        <div class="row col-12">
                                            <div class="text-right col-4">
                                                <strong t-if="doc.pay_check_ids">شيك رقم
                                                    <span class="m-0" t-esc="doc.pay_check_ids[0].check_number"/>
                                                </strong>
                                            </div>
                                            <div class="text-right col-4">
                                                <strong t-if="doc.pay_check_ids">بتاريخ
                                                     <span class="m-0" t-esc="doc.pay_check_ids[0].check_date"/>
                                                </strong>
                                            </div>
                                            <div class="text-right col-4">
                                                <strong t-if="doc.pay_check_ids">بنك :
                                                     <span class="m-0" t-esc="doc.pay_check_ids[0].bank.name"/>
                                                </strong>
                                            </div>

                                        </div>
                                        <br/>
                                           <div>
                                            <div class="text-right">
                                                  <strong t-if="doc.receipt_number">وذلك قيمة
                                                    <span class="m-0" t-esc="doc.receipt_number"/>
                                                </strong>
                                            </div>
                                            <br/>
                                        </div>
                                    </div>
                                    <br/>
                                    <br/>
                                </t>
                                <br/>
                             <div class="row">
                                    <div class="text-center col-4">
                                        <strong style="text-algin:center">
                                            <span style="margin-right:10px">المستلم</span>
                                            <br/>
                                            <span>........................</span>
                                        </strong>
                                    </div>
                                       <div class="text-center col-4">
                                        <strong style="text-algin:center">
                                            <span style="margin-right:10px">أمين الخزينة</span>
                                            <br/>
                                            <span>........................</span>
                                        </strong>
                                    </div>
                                    <div class="text-center col-4">
                                        <strong style="text-algin:center">
                                            <span style="margin-left:20px">اعتماد</span>
                                            <br/>
                                            <span>........................</span>
                                        </strong>
                                    </div>
                                </div>

                            </div>
                        </t>

                </t>
            </t>
        </template>
<!--        <report-->
<!--                id="payment_receipt_action34"-->
<!--                model="normal.payments"-->
<!--                report_type="qweb-pdf"-->
<!--                string="ايصال استلام نقدية"-->
<!--                name="check_management.payment_receipt_template"-->
<!--                file="check_management.payment_receipt_template"-->
<!--        />-->

        <record id="payment_receipt_action34" model="ir.actions.report">
            <field name="name">ايصال استلام نقدية</field>
            <field name="model">normal.payments</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">check_management.payment_receipt_template</field>
            <field name="report_file">check_management.payment_receipt_template</field>
            <field name="binding_model_id" ref="check_management.model_normal_payments"/>
            <field name="binding_type">report</field>
        </record>



<!--        <report-->
<!--                id="payment_receipt_action14"-->
<!--                model="normal.payments"-->
<!--                report_type="qweb-pdf"-->
<!--                string="ايصال صرف نقدية"-->
<!--                name="check_management.payment_receipt_template_1"-->
<!--                file="check_management.payment_receipt_template_1"-->
<!--        />-->

        <record id="payment_receipt_action14" model="ir.actions.report">
            <field name="name">ايصال صرف نقدية</field>
            <field name="model">normal.payments</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">check_management.payment_receipt_template_1</field>
            <field name="report_file">check_management.payment_receipt_template_1</field>
            <field name="binding_model_id" ref="check_management.model_normal_payments"/>
            <field name="binding_type">report</field>
        </record>


    </data>
</odoo>