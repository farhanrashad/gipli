<odoo>
  <data> 
      <!-- form view -->
      <record id="elect_member_form_view" model="ir.ui.view">
            <field name="name">elect.member.form.view</field>
            <field name="model">vote.elect.member</field>
            <field name="arch" type="xml">
                <form class="o_lead_opportunity_form" js_class="crm_form">
                    <header>
                        <field name="stage_id" widget="statusbar"
                            options="{'clickable': '1', 'fold_field': 'fold'}"
                            domain="['|', ('elect_year_id', '=', elect_year_id), ('elect_year_id', '=', False)]"
                            attrs="{'invisible': [('active', '=', False)]}"/>
                    </header>
                    <sheet>
                        <field name="company_id" invisible="1"/>
                        <field name="active" invisible="1"/>
                        <div class="oe_button_box" name="button_box">
                        </div>
                        
                        <widget name="web_ribbon" title="Rejected" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
                        <field name="image_1920" widget='image' class="oe_avatar" options='{"preview_image": "avatar_128"}'/>
                        <div class="oe_title">
                            <label for="name" />
                            <h1><field class="text-break" name="name" required="1" /></h1>
                            
                            <h4>
                                <field name="title" class="w-auto" nolabel="1" style="width: 7rem;" />
                            </h4>
                            <h1>
                                <div class="d-flex flex-row align-items-start">
                                    
                                    <field name="contact_name" required="1" class="oe_inline text-start" placeholder="Full Name e.g John Doe"/>
                                </div>
                            </h1>
                        </div>
                        
                        <group>
                            <group>
                                <field name="const_type_id" options="{'no_create': True,'no_open': True}" />
                                <field name="const_id" options="{'no_create': True}" />
                                <field name="pol_partner_id" options="{'no_create': True}" />
                                <label for="street_page_lead" string="Address"/>
                                <div class="o_address_format">
                                    <field name="street" id="street_page_lead" placeholder="Street..." class="o_address_street"/>
                                    <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                                    <field name="city" placeholder="City" class="o_address_city"/>
                                    <field name="state_id" class="o_address_state" placeholder="State" options='{"no_open": True}'/>
                                    <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                                    <field name="country_id" placeholder="Country" class="o_address_country" options='{"no_open": True, "no_create": True}'/>
                                </div>
                            </group>
                            <group name="additional_info">
                                <field name="elect_year_id" />
                                <field name="vote_sign_id" options="{'no_create_edit': True}"/>
                                <field name="vote_sn" />
                            </group>
                        </group>
                        <notebook>
                            <page string="References" name="references">
                                <field name="member_ref_line" widget="one2many_list" >
                                    <tree editable ="bottom" >
                                        <field name="member_ref_type_id" options="{'no_create': True}" />
                                        <field name="name" />
                                    </tree>
                                </field>
                            </page>
                            
                        </notebook>
                    </sheet>
                </form>
            </field>
      </record>

      <!-- Quick create form view -->
      <record id="quick_create_elect_member_form" model="ir.ui.view">
            <field name="name">vote.elect.member.form.quick_create</field>
            <field name="model">vote.elect.member</field>
            <field name="priority">1000</field>
            <field name="arch" type="xml">
                <form>
                    <group>
                        <field name="contact_name" placeholder="Full Name e.g. John Doe" />
                        <field name="elect_year_id" required="1" options="{'no_open': True, 'no_create': True}"/>
                        <field name="const_type_id" options="{'no_create': True,'no_open': True}" />
                        <field name="const_id" options="{'no_create': True}" />
                        <field name="pol_partner_id" options="{'no_create': True}" />
                        <field name="email_from" string="Email" />
                        <field name="phone" string="Phone" />
                        <field name="company_id" invisible="1"/>
                        <field name="user_id" invisible="1"/>
                        <field name="user_company_ids" invisible="1"/>
                        <field name="partner_name" invisible="1"/>
                        <field name="partner_id" invisible="1"/>
                        <field name="country_id" invisible="1"/>
                        <field name="state_id" invisible="1"/>
                        <field name="city" invisible="1"/>
                        <field name="street" invisible="1"/>
                        <field name="street2" invisible="1"/>
                        <field name="zip" invisible="1"/>
                        <field name="mobile" invisible="1"/>
                        <field name="website" invisible="1"/>
                        <field name="title" invisible="1"/>
                        <field name="activity_ids" invisible="1"/>
                    </group>
                </form>
            </field>
        </record>
      <!-- Tree view -->
      <record id="elect_member_tree_view" model="ir.ui.view">
            <field name="name">elect.member.tree.view</field>
            <field name="model">vote.elect.member</field>
            <field name="priority">1</field>
            <field name="arch" type="xml">
                <tree string="Elections" sample="1" multi_edit="1">
                    <field name="company_id" invisible="1"/>
                    <field name="create_date" optional="hide"/>
                    <field name="name" string="Reference" readonly="1"/>
                    <field name="contact_name" string="Candidate" readonly="1"/>
                    <field name="const_id" readonly="1"/>
                    <field name="pol_partner_id" readonly="1"/>
                    <field name="partner_id" optional="hide"/>
                    <field name="elect_year_id" optional="hide"/>
                    <field name="company_id" groups="base.group_multi_company" optional="show"/>
                    <field name="user_id" widget="many2one_avatar_user" optional="hide"
                        domain="[('share', '=', False)]"/>
                    <field name="activity_ids" widget="list_activity"/>
                    <field name="activity_user_id" optional="hide" string="Activity by" widget="many2one_avatar_user"/>
                    <field name="stage_id" optional="show" decoration-bf="1"/>
                    <field name="active" invisible="1"/>
                    
                </tree>
            </field>
      </record>

      <!-- Kanban View -->
      <record model="ir.ui.view" id="vote_elect_member_kanban_view">
            <field name="name">vote.elect.member.kanban.view</field>
            <field name="model">vote.elect.member</field>
            <field name="arch" type="xml">
                <kanban
                    default_group_by="stage_id"
                    class="o_kanban_small_column o_kanban_admissions"
                    on_create="quick_create"
                    quick_create_view="de_vote.quick_create_elect_member_form"
                    examples="Admission"
                    js_class="" sample="1"
                >
                    <field name="color"/>
                    <field name="stage_id" options='{"group_by_tooltip": {"description": "Description"}}'/>
                    <field name="kanban_state"/>
                    <field name="activity_date_deadline"/>
                    <field name="user_id"/>
                    <field name="partner_id"/>
                    <field name="activity_summary"/>
                    <field name="active"/>
                    <field name="activity_state"/>
                    <field name="activity_ids"/>
                    <progressbar field="activity_state" colors="{&quot;planned&quot;: &quot;success&quot;, &quot;today&quot;: &quot;warning&quot;, &quot;overdue&quot;: &quot;danger&quot;}" sum_field="expected_revenue"  help="This bar allows to filter the opportunities based on scheduled activities."/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="#{!selection_mode ? kanban_color(record.color.raw_value) : ''}  oe_kanban_global_click oe_kanban_card d-flex flex-column">
                                <!-- Kanban Menu -->
                                <div class="o_dropdown_kanban dropdown">
                                    <a class="dropdown-toggle o-no-caret btn" role="button" data-bs-toggle="dropdown" data-bs-display="static" href="#" aria-label="Dropdown menu" title="Dropdown menu">
                                        <span class="fa fa-ellipsis-v"/>
                                    </a>
                                    <div class="dropdown-menu" role="menu">
                                        <t t-if="widget.editable"><a role="menuitem" type="edit" class="dropdown-item">Edit</a></t>
                                        <t t-if="widget.deletable"><a role="menuitem" type="delete" class="dropdown-item">Delete</a></t>
                                        <ul class="oe_kanban_colorpicker" data-field="color"/>
                                    </div>
                                </div>

                                <!-- Kanban Content -->
                                <div class="oe_kanban_content flex-grow-1">
                                    <div class="o_kanban_record_title oe_kanban_details">
                                        <strong><field name="contact_name"/></strong>
                                    </div>
                                    <div>
                                        <strong><field name="name"/></strong>
                                    </div>
                                    <div>
                                        <field name="const_code" options="{'color_field': 'color'}"/> / <field name="const_id" />
                                    </div>
                                    <div>
                                        <field name="elect_year_id"/>
                                    </div>
                                </div>
                                
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
      </record>
      <record id="elect_calendar_view" model="ir.ui.view">
            <field name="name">elect.calendar.view</field>
            <field name="model">vote.elect.member</field>
            <field name="priority" eval="2"/>
            <field name="arch" type="xml">
                <calendar string="Elections" create="0" mode="month" date_start="activity_date_deadline" color="user_id" hide_time="true" event_limit="5">
                    <field name="partner_id" avatar_field="avatar_128"/>
                    <field name="user_id" filters="1" invisible="1"/>
                </calendar>
            </field>
        </record>
      
      <record id="elect_graph_view" model="ir.ui.view">
            <field name="name">elect.member.graph.view</field>
            <field name="model">vote.elect.member</field>
            <field name="arch" type="xml">
                <graph string="Elections" sample="1">
                    <field name="stage_id"/>
                    <field name="user_id"/>
                    <field name="color" invisible="1"/>
                </graph>
            </field>
        </record>
      
      <record id="admission_pivot_view" model="ir.ui.view">
            <field name="name">elect.member.pivot.view</field>
            <field name="model">vote.elect.member</field>
            <field name="arch" type="xml">
                <pivot string="Elections" sample="1">
                    <field name="create_date" interval="month" type="row"/>
                    <field name="stage_id" type="col"/>
                    <field name="color" invisible="1"/>
                </pivot>
            </field>
        </record>

      <!-- Search view -->
      <record id="elect_search_view" model="ir.ui.view">
            <field name="name">elect.search.view</field>
            <field name="model">vote.elect.member</field>
            <field name="priority">15</field>
            <field name="arch" type="xml">
                <search string="Search Members">
                    <field name="name" string="Candidate" filter_domain="[
                        '|', '|', '|', '|',
                        ('partner_id', 'ilike', self),
                        ('partner_name', 'ilike', self),
                        ('email_from', 'ilike', self),
                        ('name', 'ilike', self),
                        ('vote_sn', 'ilike', self),
                        ('ref', 'ilike', self),
                        ('contact_name', 'ilike', self)]"/>
                    <field name="partner_id" operator="child_of" string="Member" filter_domain="[
                        '|', '|', '|',
                        ('partner_id', 'ilike', self),
                        ('partner_name', 'ilike', self),
                        ('email_from', 'ilike', self),
                        ('contact_name', 'ilike', self)]"/>
                    <field name="tag_ids" string="Tag" filter_domain="[('tag_ids', 'ilike', self)]"/>
                    <field name="const_id"/>
                    <field name="elect_year_id"/>
                    <field name="stage_id" domain="[]"/>
                    <field name="country_id"/>
                    <field name="city"/>
                    <field name="activity_state"/>
                    <separator/>
                    <filter string="Archived" name="inactive" domain="[('active', '=', False)]"/>
                    <group expand="0" string="Group By" colspan="16">
                        <filter string="Election Year" name="elect_year" context="{'group_by':'elect_year_id'}"/>
                        <filter string="Constituency Type" name="const_type_id" context="{'group_by':'const_type_id'}"/>
                        <filter name="stage" string="Stage" context="{'group_by':'stage_id'}"/>
                        <filter name="city" string="City" context="{'group_by': 'city'}"/>
                        <filter string="Country" name="country" context="{'group_by':'country_id'}" />
                        <filter string="Company" name="company" context="{'group_by':'company_id'}" groups="base.group_multi_company"/>
                    </group>
                </search>
            </field>
      </record>

      <!-- My Admission Pipeline -->
      <record id="action_elect_member_pipeline" model="ir.actions.act_window">
            <field name="name">Pipeline</field>
            <field name="res_model">vote.elect.member</field>
            <field name="view_mode">kanban,tree,form,calendar,pivot,graph,activity</field>
          <field name="view_ids"
				eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('vote_elect_member_kanban_view')}),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('elect_member_tree_view')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('elect_member_form_view')})]" />
            <field name="search_view_id" ref="elect_search_view"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No application found. Let's create one!
                </p>
                
            </field>
        </record>
      
      <menuitem
        id="menu_main_members_pipeline"
        name="Members"
        parent="menu_main_members"
        action="de_vote.action_elect_member"
        sequence="0"/>
      
  </data>
</odoo>