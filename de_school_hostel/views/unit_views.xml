<odoo>
  <data>


      <record id="hostel_unit_form_view" model="ir.ui.view">
        <field name="name">hosteunit.form.view</field>
        <field name="model">oe.hostel.unit</field>
        <field name="arch" type="xml">
            <form string="Stock Location">
                <field name="company_id" invisible="1"/>
                <field name="active" invisible="1"/>
                <sheet>
                    <widget name="web_ribbon" title="Archived" bg_color="text-bg-danger" invisible="active"/>
                    <label for="name"/>
                    <h1><field name="name" placeholder="e.g. Unit 1"/></h1>
                    <label for="unit_id"/>
                    <h2><field name="unit_id" placeholder="e.g. Building 1" options="{'no_create': True}"/></h2>

                    <label for="code"/>
                    <h4><field name="code" placeholder="e.g. R01"/></h4>

                    <group>
                        <group name="additional_info">
                            <field name="unit_type"/>
                            <field name="building_type" invisible="unit_type != 'building'"/>
                            <field name="room_type" invisible="unit_type != 'room'"/>
                            <field name="floor_capacity" invisible="unit_type != 'building'"/>
                             <field name="room_capacity" string="Total Rooms" 
                                invisible="(unit_type == 'building' and floor_capacity &lt;= 0) or unit_type == 'room'"
                                readonly="(unit_type == 'building' and floor_capacity &gt;= 0)"
                            />
                            
                            <field name="capacity" string="Total Beds" 
                                readonly="unit_type in ('building','floor')"
                                invisible="unit_type not in ('building','floor')"
                            />
                            <field name="capacity" string="Total Beds" invisible="unit_type not in ('room')"/>
                            
                            <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
                        </group>
                        <group invisible="unit_type != 'building'">
                            <label for="street" string="Address"/>
                            <div class="o_address_format">
                                <field name="street" placeholder="Street..." class="o_address_street"/>
                                <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                                <field name="city" placeholder="City" class="o_address_city"/>
                                <field name="state_id" class="o_address_state" placeholder="State" options='{"no_open": True}'/>
                                <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                                <field name="country_id" placeholder="Country" class="o_address_country" options='{"no_open": True, "no_create": True}'/>
                            </div>
                        </group>
                        <group invisible="unit_type != 'floor'">
                        </group>
                        <group invisible="unit_type != 'room'">
                        </group>
                    </group>
                    <notebook>
                        <page string="Description">
                            <field colspan="4" name="description" nolabel="1" 
                                placeholder="This note is only for internal purposes."
                            />
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
      </record>
      <record id="hostel_unit_search_view" model="ir.ui.view">
        <field name="name">hostel.unit.search.view</field>
        <field name="model">oe.hostel.unit</field>
        <field name="arch" type="xml">
            <search string="Units">
                <field name="complete_name" string="Units"/>
                <field name="unit_type" string="Type"/>
                <separator/>
                <filter string="Archived" name="inactive" domain="[('active','=',False)]"/>
                <separator/>
                <filter string="Building" name="buildings" domain="[('unit_type','=','building')]"/>
                <filter string="Floor" name="floor" domain="[('unit_type','=','floor')]"/>
                <filter string="Unit" name="unit" domain="[('unit_type','=','room')]"/>
                
                <group expand="0" string="Group By">
                    <filter string="Type" name="type" domain="[]" context="{'group_by': 'unit_type'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="hostel_unit_tree_view" model="ir.ui.view">
        <field name="name">hostel.unit.tree.view</field>
        <field name="model">oe.hostel.unit</field>
        <field name="priority" eval="2"/>
        <field name="arch" type="xml">
            <tree string="Hostel Unit" decoration-warning="unit_type=='building'" decoration-danger="unit_type=='floor'" decoration-success="unit_type=='room'" multi_edit="1">
                <field name="company_id" column_invisible="True"/>
                <field name="active" column_invisible="True"/>
                <field name="complete_name" string="Unit"/>
                <field name="unit_type"/>
                <field name="company_id" groups="base.group_multi_company"/>
            </tree>
        </field>
    </record>
      
      <record id="action_hostel_unit" model="ir.actions.act_window">
        <field name="name">Units</field>
        <field name="res_model">oe.hostel.unit</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="hostel_unit_tree_view"/>
        <field name="search_view_id" ref="hostel_unit_search_view"/>
        <field name="help" type="html">
          <p class="o_view_nocontent_smiling_face">
            Add a new unit
          </p><p>
            Manage hostel transactions seamlessly by creating buildings, defining floors, and setting up units with detailed attributes such as type and capacity. 
          </p>
        </field>
    </record>

    <menuitem action="action_hostel_unit" id="menu_school_hostel_unit_config"
        parent="menu_school_hostel_menu_config" sequence="2" />
      
  </data>
</odoo>
